@if (modalOpened) {
  <div @overlayAnimation class="bg-black w-full h-full fixed top-0 start-0 opacity-75 z-[999]"></div>
}
<div @modalAnimation *ngIf="modalOpened" class="modal-container">
  <div class="modal-body">
    <div class="modal-main">
      <!-- Modal Header -->
      <div class="modal-header flex justify-between items-center px-[24px] py-[16px]">
        <h2 class="text-body-1-inter font-semibold">Donation</h2>
        <app-icon-close class="cursor-pointer" (click)="closeModal()"/>
      </div>
      <!-- Modal Content -->
      <div class="modal-content">
        <form [formGroup]="donationForm">
          <app-form-field>
            <app-form-label>Name*</app-form-label>
            <input appFormElement class="form-input" type="text" formControlName="name" placeholder="Full Name">
            <app-form-error
              [hasError]="donationForm.get('name').hasError('required') && donationForm.get('name').touched">Name is
              required
            </app-form-error>
          </app-form-field>
          <app-form-field>
            <app-form-label>Email*</app-form-label>
            <input appFormElement class="form-input" type="text" formControlName="email"
                   placeholder="example@example.com">
            <app-form-error
              [hasError]="donationForm.get('email').hasError('required') && donationForm.get('email').touched">Email is
              required
            </app-form-error>
            <app-form-error
              [hasError]="donationForm.get('email').hasError('email') && donationForm.get('email').touched">Please enter
              valid email
            </app-form-error>
          </app-form-field>
          <app-form-field>
            <app-form-label>Phone*</app-form-label>
            <input appFormElement class="form-input" type="text" formControlName="phone" placeholder="+12013334444">
            <app-form-error
              [hasError]="donationForm.get('phone').hasError('required') && donationForm.get('phone').touched">Phone is
              required
            </app-form-error>
          </app-form-field>
          <app-form-field>
            <app-form-label>Comment</app-form-label>
            <textarea appFormElement class="form-input" rows="2" formControlName="comment"
                      placeholder="Have you any comment? Feel free to tell us."></textarea>
            <app-form-error
              [hasError]="donationForm.get('comment').hasError('maxlength') && donationForm.get('comment').touched">
              Comment must be less that 500 character
            </app-form-error>
          </app-form-field>
          <app-form-field>
            <mat-checkbox color="primary" formControlName="anonymousDonation">Make this an anonymous donation
            </mat-checkbox>
          </app-form-field>
          <app-form-field>
            <app-form-label>Country*</app-form-label>
            <input appFormElement type="text" placeholder="Select Country" formControlName="country"
                   [matAutocomplete]="auto">
            <mat-autocomplete #auto="matAutocomplete">
              @for (country of filteredOptions | async; track country) {
              <mat-option [value]="country.code">{{country.name}}</mat-option>
              }
            </mat-autocomplete>
            <app-form-error
              [hasError]="donationForm.get('country').hasError('required') && donationForm.get('country').touched">
              Country is required
            </app-form-error>
            <app-form-error
              [hasError]="donationForm.get('country').hasError('pattern') && donationForm.get('country').touched">Please
              select from the options
            </app-form-error>
          </app-form-field>
          <app-form-field>
            <app-form-label>Address 1*</app-form-label>
            <input appFormElement class="form-input" type="text" formControlName="addressLine1"
                   placeholder="Address Line 1">
            <app-form-error
              [hasError]="donationForm.get('addressLine1').hasError('required') && donationForm.get('addressLine1').touched">
              Address 1 is required
            </app-form-error>
          </app-form-field>
          <app-form-field>
            <app-form-label>Address 2</app-form-label>
            <input appFormElement class="form-input" type="text" formControlName="addressLine2"
                   placeholder="Address Line 2">
          </app-form-field>
          <app-form-field>
            <app-form-label>City*</app-form-label>
            <input appFormElement class="form-input" type="text" formControlName="city" placeholder="City">
            <app-form-error
              [hasError]="donationForm.get('city').hasError('required') && donationForm.get('city').touched">City is
              required
            </app-form-error>
          </app-form-field>
          <div class="flex gap-[16px] self-stretch">
            <app-form-field class="w-full">
              <app-form-label>State*</app-form-label>
              <input appFormElement class="form-input" type="text" formControlName="state" placeholder="State">
              <app-form-error
                [hasError]="donationForm.get('state').hasError('required') && donationForm.get('state').touched">State
                is required
              </app-form-error>
            </app-form-field>
            <app-form-field class="w-full">
              <app-form-label>Zip / Postal Code*</app-form-label>
              <input appFormElement class="form-input" type="text" formControlName="postalCode"
                     placeholder="Zip / Postal Code">
              <app-form-error
                [hasError]="donationForm.get('postalCode').hasError('required') && donationForm.get('postalCode').touched">
                Zip / Postal Code is required
              </app-form-error>
            </app-form-field>
          </div>
        </form>
      </div>
      <!-- Modal Footer -->
      <div class="modal-footer">
        <p class="donation-details">Donation Details: <span class="text-body-1-inter">$100.00</span></p>
        <app-form-button appearance="filled" [fullWidth]="true" [disabled]="donationForm.invalid" (click)="onSubmit()">
          Donate Now
        </app-form-button>
      </div>
    </div>
  </div>
</div>
